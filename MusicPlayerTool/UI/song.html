<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Song – 光晕.AuraTone</title>

    <!-- Bootstrap + Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="../Style/song.css" rel="stylesheet" />
</head>

<body data-api-base="http://localhost:8000" data-login="login.html">
    <header class="bg-dark text-white text-center py-3">
        <h1>光晕.AuraTone</h1>
        <p>Henry Lau • Spotify embeds</p>
    </header>

    <main class="container my-4">
        <!-- ====== Top player (single song) ====== -->
        <section class="player-wrap card bg-dark border-0 shadow-sm rounded-4 overflow-hidden mb-4">
            <div class="row g-0">
                <div class="col-lg-5">
                    <div class="cover-side h-100">
                        <img id="playerCover" class="player-cover"
                            src="https://picsum.photos/seed/cover-fallback/900/900" alt="Cover" loading="lazy">
                    </div>
                </div>
                <div class="col-lg-7">
                    <div class="player-side p-3 p-md-4">
                        <div class="d-flex align-items-start justify-content-between gap-3">
                            <div class="text-truncate">
                                <h2 id="playerTitle" class="h4 mb-1 text-white text-truncate">Now Playing</h2>
                                <div id="playerArtist" class="text-muted small text-truncate">Artist</div>
                            </div>
                            <div class="d-flex gap-2">
                                <button id="btnPrev" class="btn btn-outline-light btn-sm"><i
                                        class="bi bi-skip-start"></i></button>
                                <button id="btnNext" class="btn btn-outline-light btn-sm"><i
                                        class="bi bi-skip-end"></i></button>
                            </div>
                        </div>

                        <div id="playerFrameWrap" class="mt-3 rounded-3 overflow-hidden">
                            <!-- iframe Spotify will be injected here -->
                        </div>

                        <div class="d-flex align-items-center justify-content-between mt-3">
                            <div class="d-flex align-items-center gap-2">
                                <input id="searchInput" placeholder="Search related…"
                                    class="form-control form-control-sm bg-dark text-white border-secondary"
                                    style="max-width:260px" />
                            </div>
                            <div class="d-flex align-items-center gap-2">
                                <label for="pageSize" class="small text-muted mb-0">Show</label>
                                <select id="pageSize"
                                    class="form-select form-select-sm bg-dark text-white border-secondary"
                                    style="width:92px">
                                    <option value="6">6</option>
                                    <option value="9" selected>9</option>
                                    <option value="12">12</option>
                                </select>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>

        <!-- ====== Lyrics (3 columns) ====== -->
        <section id="lyricsSection"
            class="lyrics-wrap card bg-dark border-0 shadow-sm rounded-4 overflow-hidden mb-4 d-none">
            <div
                class="lyrics-header d-flex align-items-center justify-content-between px-3 px-md-4 py-3 border-bottom border-secondary">
                <h3 class="h5 m-0">Lyrics</h3>
                <div class="d-flex align-items-center gap-2">
                    <small class="text-muted d-none d-md-inline">Auto-size • Scroll if overflow</small>
                    <button id="toggleLyrics" class="btn btn-outline-light btn-sm">
                        <i class="bi bi-arrows-fullscreen"></i> Expand
                    </button>
                </div>
            </div>

            <div class="lyrics-grid">
                <div class="lyric-col">
                    <div class="lyric-title">Romanization</div>
                    <pre id="lyricRoman" class="lyric-pre"></pre>
                </div>
                <div class="lyric-col">
                    <div class="lyric-title">Korean</div>
                    <pre id="lyricKorean" class="lyric-pre"></pre>
                </div>
                <div class="lyric-col">
                    <div class="lyric-title">Translation</div>
                    <pre id="lyricTrans" class="lyric-pre"></pre>
                </div>
            </div>
        </section>


        <!-- ====== Bottom related songs ====== -->
        <section>
            <h3 class="h5 mb-3">Related songs</h3>
            <div id="relatedGrid" class="row g-3"></div>

            <div class="pagination-wrap mt-3">
                <button id="prevBtn" class="btn btn-outline-primary btn-sm" disabled>
                    <span class="me-1">&laquo;</span> Prev
                </button>
                <span id="pageIndicator" class="page-indicator">Page 1 / 1</span>
                <button id="nextBtn" class="btn btn-outline-primary btn-sm" disabled>
                    Next <span class="ms-1">&raquo;</span>
                </button>
            </div>

            <div id="emptyState" class="text-center text-muted py-5 d-none">
                No related songs found.
            </div>
        </section>
    </main>

    <footer class="bg-dark text-white text-center py-3">
        &copy; 2025 光晕.AuraTone
    </footer>

    <!-- Demo data (thay bằng data thật nếu có) -->
    <script>
  window.__EMBEDS__ = [
    {
      id: "73lqIZ0BTMVtDAejjhgRL3",
      title: "Trap",
      artist: "Henry Lau",
      cover: "https://picsum.photos/seed/henry1/900/900",
      thumb: "https://picsum.photos/seed/henry1/120/120",
      embedSrc: "https://open.spotify.com/embed/track/73lqIZ0BTMVtDAejjhgRL3?utm_source=generator",
      lyrics: {
        roman: "seoro hamkkeil ttaemyeon\n...\nWant to know I don't know",
        korean: "서로 함께일 때면\n...\n원투노우 아이 돈노우",
        trans: "When we're together,\n...\nWant to know, I don't know"
      }
    },
    // các bài khác (có thể chưa có lyrics, panel sẽ tự ẩn)
  ];
</script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../JS/song.js"></script>
</body>

</html>